(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{3942:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ancier-rapprochements",function(){return s(2689)}])},4126:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var i=s(8967);let l=(0,i.eI)("https://fkavtsofmglifzalclyn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrYXZ0c29mbWdsaWZ6YWxjbHluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MDgzNDIsImV4cCI6MjA1ODQ4NDM0Mn0.vN8-2RzyVu_2X4lWT4Uqa6aI3OYuAcIFFuMeGS5Po1Y")},2689:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var i=s(5893),l=s(7294),n=s(4126);function a(){let[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=async()=>{let{data:e}=await n.O.from("clients").select("*"),{data:s}=await n.O.from("biens").select("*").eq("disponible",!0);t(e||[]),a(s||[])};e()},[]);let r=e=>s.filter(t=>{var s,i;return(null===(s=t.ville)||void 0===s?void 0:s.toLowerCase().trim())===(null===(i=e.ville)||void 0===i?void 0:i.toLowerCase().trim())&&t.prix<=e.budget_max});return(0,i.jsxs)("div",{className:"ml-64 p-8 bg-gray-50 min-h-screen",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDD0D Rapprochements Clients ↔ Biens"}),e.map(e=>{let t=r(e);return(0,i.jsxs)("div",{className:"bg-white shadow rounded-xl p-4 mb-6",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold text-orange-600 mb-2",children:["\uD83D\uDC64 ",e.nom," — ",e.ville," — Budget max : ",e.budget_max.toLocaleString()," €"]}),0===t.length?(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"❌ Aucun bien correspondant"}):(0,i.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(e=>(0,i.jsxs)("li",{className:"border p-3 rounded-lg bg-gray-50",children:[(0,i.jsx)("p",{className:"font-semibold",children:e.titre}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCCD ",e.ville]}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCB0 ",e.prix.toLocaleString()," € — ",e.surface_m2," m\xb2"]}),(0,i.jsxs)("p",{className:"text-sm text-gray-500",children:["\uD83D\uDD0B DPE : ",e.dpe]}),(0,i.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Agent ID : ",e.agent_id]})]},e.id))})]},e.id)})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3942)}),_N_E=e.O()}]);