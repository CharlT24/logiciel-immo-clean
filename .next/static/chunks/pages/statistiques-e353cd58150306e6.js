(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{3707:function(s,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/statistiques",function(){return i(9884)}])},4126:function(s,e,i){"use strict";i.d(e,{O:function(){return n}});var t=i(8967);let n=(0,t.eI)("https://fkavtsofmglifzalclyn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrYXZ0c29mbWdsaWZ6YWxjbHluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MDgzNDIsImV4cCI6MjA1ODQ4NDM0Mn0.vN8-2RzyVu_2X4lWT4Uqa6aI3OYuAcIFFuMeGS5Po1Y")},9884:function(s,e,i){"use strict";i.r(e),i.d(e,{default:function(){return a}});var t=i(5893),n=i(7294),l=i(4126),o=i(6495),r=i(3148);function a(){let[s,e]=(0,n.useState)({total:0,dispo:0,compromis:0,vendu:0});(0,n.useEffect)(()=>{let s=async()=>{let{data:{session:s}}=await l.O.auth.getSession();if(!s)return;let{data:i}=await l.O.from("biens").select("*").eq("agent_id",s.user.id),t=i.filter(s=>s.disponible&&!s.vendu&&!s.sous_compromis).length,n=i.filter(s=>s.sous_compromis).length,o=i.filter(s=>s.vendu).length;e({total:i.length,dispo:t,compromis:n,vendu:o})};s()},[]);let i={labels:["Disponibles","Sous compromis","Vendus"],datasets:[{label:"R\xe9partition des biens",data:[s.dispo,s.compromis,s.vendu],backgroundColor:["#3b82f6","#facc15","#10b981"],borderWidth:1}]};return(0,t.jsxs)("div",{className:"p-8 bg-gray-50 min-h-screen",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"\uD83D\uDCCA Statistiques"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded shadow p-6 space-y-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"\uD83D\uDCE6 Biens"}),(0,t.jsxs)("p",{children:["Total : ",(0,t.jsx)("strong",{children:s.total})]}),(0,t.jsxs)("p",{children:["Disponibles : ",(0,t.jsx)("strong",{children:s.dispo})]}),(0,t.jsxs)("p",{children:["Sous compromis : ",(0,t.jsx)("strong",{children:s.compromis})]}),(0,t.jsxs)("p",{children:["Vendus : ",(0,t.jsx)("strong",{children:s.vendu})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded shadow p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCC8 Graphique"}),(0,t.jsx)(o.by,{data:i})]})]})]})}r.kL.register(r.qi,r.u,r.De)}},function(s){s.O(0,[196,853,774,888,179],function(){return s(s.s=3707)}),_N_E=s.O()}]);