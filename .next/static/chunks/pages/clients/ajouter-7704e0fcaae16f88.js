(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[549],{83:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/ajouter",function(){return t(2419)}])},4126:function(e,n,t){"use strict";t.d(n,{O:function(){return l}});var a=t(8967);let l=(0,a.eI)("https://fkavtsofmglifzalclyn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrYXZ0c29mbWdsaWZ6YWxjbHluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MDgzNDIsImV4cCI6MjA1ODQ4NDM0Mn0.vN8-2RzyVu_2X4lWT4Uqa6aI3OYuAcIFFuMeGS5Po1Y")},2419:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return s}});var a=t(5893),l=t(7294),i=t(4126),u=t(1163);function s(){let e=(0,u.useRouter)(),[n,t]=(0,l.useState)({nom:"",email:"",telephone:"",ville_recherche:"",budget_min:"",budget_max:"",type_bien:""}),s=e=>{t({...n,[e.target.name]:e.target.value})},r=async t=>{var a,l,u;t.preventDefault();let s=await i.O.auth.getSession(),r=null===(u=s.data)||void 0===u?void 0:null===(l=u.session)||void 0===l?void 0:null===(a=l.user)||void 0===a?void 0:a.id,{error:o}=await i.O.from("clients").insert([{...n,agent_id:r}]);o?alert("❌ Erreur \xe0 l'ajout du client"):e.push("/clients")};return(0,a.jsxs)("div",{className:"max-w-xl mx-auto bg-white p-6 rounded shadow space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"➕ Ajouter un client"}),(0,a.jsxs)("form",{onSubmit:r,className:"space-y-4",children:[[{name:"nom",label:"Nom"},{name:"email",label:"Email",type:"email"},{name:"telephone",label:"T\xe9l\xe9phone"},{name:"ville_recherche",label:"Ville de recherche"},{name:"budget_min",label:"Budget min",type:"number"},{name:"budget_max",label:"Budget max",type:"number"},{name:"type_bien",label:"Type de bien (maison...)"}].map(e=>{let{name:t,label:l,type:i="text"}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:l}),(0,a.jsx)("input",{type:i,name:t,value:n[t],onChange:s,required:!0,className:"w-full border p-2 rounded mt-1"})]},t)}),(0,a.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Enregistrer"})]})]})}},1163:function(e,n,t){e.exports=t(6885)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=83)}),_N_E=e.O()}]);