(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{482:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/[id]/modifier",function(){return n(2301)}])},4126:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var l=n(8967);let a=(0,l.eI)("https://fkavtsofmglifzalclyn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrYXZ0c29mbWdsaWZ6YWxjbHluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MDgzNDIsImV4cCI6MjA1ODQ4NDM0Mn0.vN8-2RzyVu_2X4lWT4Uqa6aI3OYuAcIFFuMeGS5Po1Y")},2301:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var l=n(5893),a=n(7294),i=n(1163),r=n(4126);function s(){let e=(0,i.useRouter)(),{id:t}=e.query,[n,s]=(0,a.useState)({nom:"",email:"",telephone:"",ville_recherche:"",budget_min:"",budget_max:"",type_bien:""});(0,a.useEffect)(()=>{if(!t)return;let e=async()=>{let{data:e,error:n}=await r.O.from("clients").select("*").eq("id",t).single();e&&s(e)};e()},[t]);let u=e=>s({...n,[e.target.name]:e.target.value}),c=async l=>{l.preventDefault();let{error:a}=await r.O.from("clients").update(n).eq("id",t);a?alert("❌ Erreur \xe0 la modification"):e.push("/clients")};return(0,l.jsxs)("div",{className:"max-w-xl mx-auto bg-white p-6 rounded shadow space-y-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"✏️ Modifier client"}),(0,l.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[[{name:"nom",label:"Nom"},{name:"email",label:"Email",type:"email"},{name:"telephone",label:"T\xe9l\xe9phone"},{name:"ville_recherche",label:"Ville de recherche"},{name:"budget_min",label:"Budget min",type:"number"},{name:"budget_max",label:"Budget max",type:"number"},{name:"type_bien",label:"Type de bien (maison...)"}].map(e=>{let{name:t,label:a,type:i="text"}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium",children:a}),(0,l.jsx)("input",{type:i,name:t,value:n[t],onChange:u,required:!0,className:"w-full border p-2 rounded mt-1"})]},t)}),(0,l.jsx)("button",{type:"submit",className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700",children:"Enregistrer"})]})]})}},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=482)}),_N_E=e.O()}]);