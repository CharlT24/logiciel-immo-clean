"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/biens/ajouter/etape2",{

/***/ "./pages/biens/ajouter/etape2.js":
/*!***************************************!*\
  !*** ./pages/biens/ajouter/etape2.js ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Etape2; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/supabaseClient */ \"./lib/supabaseClient.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n// Étape 2 complète avec IA + Pièces + champs classiques + amélioration chauffage + % honoraires\n\nvar _s = $RefreshSig$();\n\n\n\n\nfunction Etape2() {\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const { id } = router.query;\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        surface_m2: \"\",\n        nb_pieces: \"\",\n        nb_chambres: \"\",\n        etage: \"\",\n        dpe: \"D\",\n        dpe_conso_indice: \"\",\n        dpe_ges_indice: \"\",\n        energie_finale_kwh: \"\",\n        dpe_cout_min: \"\",\n        dpe_cout_max: \"\",\n        dpe_vierge: false,\n        type_chauffage: \"\",\n        mode_chauffage: \"\",\n        annee_construction: \"\",\n        surface_terrain: \"\",\n        surface_carrez: \"\",\n        prix_vente: \"\",\n        prix_net_vendeur: \"\",\n        honoraires: \"\",\n        pourcentage_honoraires: \"\",\n        taxe_fonciere: \"\",\n        quote_part_charges: \"\",\n        fonds_travaux: \"\",\n        charge_vendeur: false,\n        charge_acquereur: false,\n        description: \"\"\n    });\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [pieces, setPieces] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [newPiece, setNewPiece] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        nom: \"\",\n        surface: \"\"\n    });\n    const [generating, setGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const handleChange = (e)=>{\n        const { name, value, type, checked } = e.target;\n        const newValue = type === \"checkbox\" ? checked : value;\n        setFormData((prev)=>{\n            const updated = {\n                ...prev,\n                [name]: newValue\n            };\n            if ([\n                \"prix_net_vendeur\",\n                \"honoraires\"\n            ].includes(name)) {\n                const prixNet = parseFloat(name === \"prix_net_vendeur\" ? value : prev.prix_net_vendeur || 0);\n                const honoraires = parseFloat(name === \"honoraires\" ? value : prev.honoraires || 0);\n                updated.prix_vente = (prixNet + honoraires).toFixed(2);\n                updated.pourcentage_honoraires = prixNet > 0 ? (honoraires / prixNet * 100).toFixed(2) : \"\";\n            }\n            return updated;\n        });\n    };\n    const toFloat = (v)=>v === \"\" ? null : parseFloat(v);\n    const toInt = (v)=>v === \"\" ? null : parseInt(v);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        if (!formData.dpe_vierge && (!formData.dpe_conso_indice || !formData.dpe_ges_indice)) {\n            setError(\"Veuillez renseigner les indices DPE ou cocher 'DPE vierge'\");\n            return;\n        }\n        const rawUpdates = {\n            ...formData,\n            surface_m2: toFloat(formData.surface_m2),\n            nb_pieces: toInt(formData.nb_pieces),\n            nb_chambres: toInt(formData.nb_chambres),\n            prix_vente: toFloat(formData.prix_vente),\n            prix_net_vendeur: toFloat(formData.prix_net_vendeur),\n            honoraires: toFloat(formData.honoraires),\n            pourcentage_honoraires: toFloat(formData.pourcentage_honoraires),\n            dpe_cout_min: toInt(formData.dpe_cout_min),\n            dpe_cout_max: toInt(formData.dpe_cout_max),\n            energie_finale_kwh: toInt(formData.energie_finale_kwh),\n            taxe_fonciere: toInt(formData.taxe_fonciere),\n            quote_part_charges: toInt(formData.quote_part_charges),\n            fonds_travaux: toInt(formData.fonds_travaux),\n            pieces: JSON.stringify(pieces)\n        };\n        const updates = Object.fromEntries(Object.entries(rawUpdates).filter((param)=>{\n            let [_, v] = param;\n            return v !== \"\" && v !== undefined;\n        }));\n        const { error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_3__.supabase.from(\"biens\").update(updates).eq(\"id\", id);\n        if (error) {\n            console.error(\"❌ Erreur Supabase :\", error);\n            setError(\"Erreur lors de la mise \\xe0 jour\");\n        } else {\n            router.push(\"/biens/ajouter/etape3?id=\".concat(id));\n        }\n    };\n    const addPiece = ()=>{\n        if (!newPiece.nom || !newPiece.surface) return;\n        setPieces([\n            ...pieces,\n            newPiece\n        ]);\n        setNewPiece({\n            nom: \"\",\n            surface: \"\"\n        });\n    };\n    const handleGenerateDescription = async ()=>{\n        setGenerating(true);\n        const res = await fetch(\"/api/ia/description\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                titre: \"Bien immobilier\",\n                surface: formData.surface_m2,\n                ville: \"ville inconnue\",\n                prix: formData.prix_vente,\n                type: \"appartement ou maison\",\n                description: formData.description,\n                pieces\n            })\n        });\n        const data = await res.json();\n        setFormData((prev)=>({\n                ...prev,\n                description: data.description\n            }));\n        setGenerating(false);\n    };\n    const typesChauffage = [\n        \"Gaz\",\n        \"\\xc9lectrique\",\n        \"Fioul\",\n        \"Bois\",\n        \"Pompe \\xe0 chaleur\",\n        \"Solaire\",\n        \"Climatisation r\\xe9versible\",\n        \"R\\xe9seau urbain\",\n        \"Autre\"\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-5xl mx-auto bg-white rounded-xl shadow p-10 mt-10 space-y-6 border\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-3xl font-bold text-orange-600\",\n                children: \"\\uD83D\\uDCD0 \\xc9tape 2 : Caract\\xe9ristiques d\\xe9taill\\xe9es\"\n            }, void 0, false, {\n                fileName: \"/Users/charlestudela/Downloads/logiciel-immo-version-Alpha /pages/biens/ajouter/etape2.js\",\n                lineNumber: 143,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Select, {\n                    label: \"Type de chauffage\",\n                    name: \"type_chauffage\",\n                    value: formData.type_chauffage,\n                    onChange: handleChange,\n                    options: typesChauffage\n                }, void 0, false, {\n                    fileName: \"/Users/charlestudela/Downloads/logiciel-immo-version-Alpha /pages/biens/ajouter/etape2.js\",\n                    lineNumber: 147,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/charlestudela/Downloads/logiciel-immo-version-Alpha /pages/biens/ajouter/etape2.js\",\n                lineNumber: 145,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/charlestudela/Downloads/logiciel-immo-version-Alpha /pages/biens/ajouter/etape2.js\",\n        lineNumber: 142,\n        columnNumber: 5\n    }, this);\n}\n_s(Etape2, \"o8NlHXbVuduHpsQmmhFVKAL0BUs=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter\n    ];\n});\n_c = Etape2;\nvar _c;\n$RefreshReg$(_c, \"Etape2\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxnQkFBZ0I7WUFBbUI7WUFDOUNDLE1BQU1wQixLQUFLQyxTQUFTLENBQUM7Z0JBQ25Cb0IsT0FBTztnQkFDUDdDLFNBQVNuQyxTQUFTRSxVQUFVO2dCQUM1QitFLE9BQU87Z0JBQ1BDLE1BQU1sRixTQUFTa0IsVUFBVTtnQkFDekJ3QixNQUFNO2dCQUNOZixhQUFhM0IsU0FBUzJCLFdBQVc7Z0JBQ2pDRztZQUNGO1FBQ0Y7UUFDQSxNQUFNcUQsT0FBTyxNQUFNUixJQUFJUyxJQUFJO1FBQzNCbkYsWUFBWSxDQUFDNkMsT0FBVTtnQkFBRSxHQUFHQSxJQUFJO2dCQUFFbkIsYUFBYXdELEtBQUt4RCxXQUFXO1lBQUM7UUFDaEVVLGNBQWM7SUFDaEI7SUFFQSxNQUFNZ0QsaUJBQWlCO1FBQ3JCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFBR0QsV0FBVTswQkFBcUM7Ozs7OzswQkFFbkQsOERBQUNFO2dCQUFLQyxVQUFVbEM7Z0JBQWMrQixXQUFVOzBCQUV0Qyw0RUFBQ0k7b0JBQU9DLE9BQU07b0JBQW9CcEQsTUFBSztvQkFBaUJDLE9BQU96QyxTQUFTYSxjQUFjO29CQUFFZ0YsVUFBVXZEO29CQUFjd0QsU0FBU1Q7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2pJO0dBakp3QnpGOztRQUNQTCxrREFBU0E7OztLQURGSyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9iaWVucy9ham91dGVyL2V0YXBlMi5qcz82YzI4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIMOJdGFwZSAyIGNvbXBsw6h0ZSBhdmVjIElBICsgUGnDqGNlcyArIGNoYW1wcyBjbGFzc2lxdWVzICsgYW3DqWxpb3JhdGlvbiBjaGF1ZmZhZ2UgKyAlIGhvbm9yYWlyZXNcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlQ2xpZW50XCJcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFdGFwZTIoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IHsgaWQgfSA9IHJvdXRlci5xdWVyeVxuXG4gIGNvbnN0IFtmb3JtRGF0YSwgc2V0Rm9ybURhdGFdID0gdXNlU3RhdGUoe1xuICAgIHN1cmZhY2VfbTI6IFwiXCIsXG4gICAgbmJfcGllY2VzOiBcIlwiLFxuICAgIG5iX2NoYW1icmVzOiBcIlwiLFxuICAgIGV0YWdlOiBcIlwiLFxuICAgIGRwZTogXCJEXCIsXG4gICAgZHBlX2NvbnNvX2luZGljZTogXCJcIixcbiAgICBkcGVfZ2VzX2luZGljZTogXCJcIixcbiAgICBlbmVyZ2llX2ZpbmFsZV9rd2g6IFwiXCIsXG4gICAgZHBlX2NvdXRfbWluOiBcIlwiLFxuICAgIGRwZV9jb3V0X21heDogXCJcIixcbiAgICBkcGVfdmllcmdlOiBmYWxzZSxcbiAgICB0eXBlX2NoYXVmZmFnZTogXCJcIixcbiAgICBtb2RlX2NoYXVmZmFnZTogXCJcIixcbiAgICBhbm5lZV9jb25zdHJ1Y3Rpb246IFwiXCIsXG4gICAgc3VyZmFjZV90ZXJyYWluOiBcIlwiLFxuICAgIHN1cmZhY2VfY2FycmV6OiBcIlwiLFxuICAgIHByaXhfdmVudGU6IFwiXCIsXG4gICAgcHJpeF9uZXRfdmVuZGV1cjogXCJcIixcbiAgICBob25vcmFpcmVzOiBcIlwiLFxuICAgIHBvdXJjZW50YWdlX2hvbm9yYWlyZXM6IFwiXCIsXG4gICAgdGF4ZV9mb25jaWVyZTogXCJcIixcbiAgICBxdW90ZV9wYXJ0X2NoYXJnZXM6IFwiXCIsXG4gICAgZm9uZHNfdHJhdmF1eDogXCJcIixcbiAgICBjaGFyZ2VfdmVuZGV1cjogZmFsc2UsXG4gICAgY2hhcmdlX2FjcXVlcmV1cjogZmFsc2UsXG4gICAgZGVzY3JpcHRpb246IFwiXCJcbiAgfSlcblxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IFtwaWVjZXMsIHNldFBpZWNlc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW25ld1BpZWNlLCBzZXROZXdQaWVjZV0gPSB1c2VTdGF0ZSh7IG5vbTogXCJcIiwgc3VyZmFjZTogXCJcIiB9KVxuICBjb25zdCBbZ2VuZXJhdGluZywgc2V0R2VuZXJhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUsIHR5cGUsIGNoZWNrZWQgfSA9IGUudGFyZ2V0XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0eXBlID09PSBcImNoZWNrYm94XCIgPyBjaGVja2VkIDogdmFsdWVcbiAgICBzZXRGb3JtRGF0YSgocHJldikgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4ucHJldiwgW25hbWVdOiBuZXdWYWx1ZSB9XG5cbiAgICAgIGlmIChbXCJwcml4X25ldF92ZW5kZXVyXCIsIFwiaG9ub3JhaXJlc1wiXS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICBjb25zdCBwcml4TmV0ID0gcGFyc2VGbG9hdChuYW1lID09PSBcInByaXhfbmV0X3ZlbmRldXJcIiA/IHZhbHVlIDogcHJldi5wcml4X25ldF92ZW5kZXVyIHx8IDApXG4gICAgICAgIGNvbnN0IGhvbm9yYWlyZXMgPSBwYXJzZUZsb2F0KG5hbWUgPT09IFwiaG9ub3JhaXJlc1wiID8gdmFsdWUgOiBwcmV2Lmhvbm9yYWlyZXMgfHwgMClcbiAgICAgICAgdXBkYXRlZC5wcml4X3ZlbnRlID0gKHByaXhOZXQgKyBob25vcmFpcmVzKS50b0ZpeGVkKDIpXG4gICAgICAgIHVwZGF0ZWQucG91cmNlbnRhZ2VfaG9ub3JhaXJlcyA9IHByaXhOZXQgPiAwID8gKChob25vcmFpcmVzIC8gcHJpeE5ldCkgKiAxMDApLnRvRml4ZWQoMikgOiBcIlwiXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGVkXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IHRvRmxvYXQgPSAodikgPT4gdiA9PT0gXCJcIiA/IG51bGwgOiBwYXJzZUZsb2F0KHYpXG4gIGNvbnN0IHRvSW50ID0gKHYpID0+IHYgPT09IFwiXCIgPyBudWxsIDogcGFyc2VJbnQodilcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGlmICghZm9ybURhdGEuZHBlX3ZpZXJnZSAmJiAoIWZvcm1EYXRhLmRwZV9jb25zb19pbmRpY2UgfHwgIWZvcm1EYXRhLmRwZV9nZXNfaW5kaWNlKSkge1xuICAgICAgc2V0RXJyb3IoXCJWZXVpbGxleiByZW5zZWlnbmVyIGxlcyBpbmRpY2VzIERQRSBvdSBjb2NoZXIgJ0RQRSB2aWVyZ2UnXCIpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcmF3VXBkYXRlcyA9IHtcbiAgICAgIC4uLmZvcm1EYXRhLFxuICAgICAgc3VyZmFjZV9tMjogdG9GbG9hdChmb3JtRGF0YS5zdXJmYWNlX20yKSxcbiAgICAgIG5iX3BpZWNlczogdG9JbnQoZm9ybURhdGEubmJfcGllY2VzKSxcbiAgICAgIG5iX2NoYW1icmVzOiB0b0ludChmb3JtRGF0YS5uYl9jaGFtYnJlcyksXG4gICAgICBwcml4X3ZlbnRlOiB0b0Zsb2F0KGZvcm1EYXRhLnByaXhfdmVudGUpLFxuICAgICAgcHJpeF9uZXRfdmVuZGV1cjogdG9GbG9hdChmb3JtRGF0YS5wcml4X25ldF92ZW5kZXVyKSxcbiAgICAgIGhvbm9yYWlyZXM6IHRvRmxvYXQoZm9ybURhdGEuaG9ub3JhaXJlcyksXG4gICAgICBwb3VyY2VudGFnZV9ob25vcmFpcmVzOiB0b0Zsb2F0KGZvcm1EYXRhLnBvdXJjZW50YWdlX2hvbm9yYWlyZXMpLFxuICAgICAgZHBlX2NvdXRfbWluOiB0b0ludChmb3JtRGF0YS5kcGVfY291dF9taW4pLFxuICAgICAgZHBlX2NvdXRfbWF4OiB0b0ludChmb3JtRGF0YS5kcGVfY291dF9tYXgpLFxuICAgICAgZW5lcmdpZV9maW5hbGVfa3doOiB0b0ludChmb3JtRGF0YS5lbmVyZ2llX2ZpbmFsZV9rd2gpLFxuICAgICAgdGF4ZV9mb25jaWVyZTogdG9JbnQoZm9ybURhdGEudGF4ZV9mb25jaWVyZSksXG4gICAgICBxdW90ZV9wYXJ0X2NoYXJnZXM6IHRvSW50KGZvcm1EYXRhLnF1b3RlX3BhcnRfY2hhcmdlcyksXG4gICAgICBmb25kc190cmF2YXV4OiB0b0ludChmb3JtRGF0YS5mb25kc190cmF2YXV4KSxcbiAgICAgIHBpZWNlczogSlNPTi5zdHJpbmdpZnkocGllY2VzKVxuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZXMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3QuZW50cmllcyhyYXdVcGRhdGVzKS5maWx0ZXIoKFtfLCB2XSkgPT4gdiAhPT0gXCJcIiAmJiB2ICE9PSB1bmRlZmluZWQpXG4gICAgKVxuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcImJpZW5zXCIpLnVwZGF0ZSh1cGRhdGVzKS5lcShcImlkXCIsIGlkKVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEVycmV1ciBTdXBhYmFzZSA6XCIsIGVycm9yKVxuICAgICAgc2V0RXJyb3IoXCJFcnJldXIgbG9ycyBkZSBsYSBtaXNlIMOgIGpvdXJcIilcbiAgICB9IGVsc2Uge1xuICAgICAgcm91dGVyLnB1c2goYC9iaWVucy9ham91dGVyL2V0YXBlMz9pZD0ke2lkfWApXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYWRkUGllY2UgPSAoKSA9PiB7XG4gICAgaWYgKCFuZXdQaWVjZS5ub20gfHwgIW5ld1BpZWNlLnN1cmZhY2UpIHJldHVyblxuICAgIHNldFBpZWNlcyhbLi4ucGllY2VzLCBuZXdQaWVjZV0pXG4gICAgc2V0TmV3UGllY2UoeyBub206IFwiXCIsIHN1cmZhY2U6IFwiXCIgfSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlRGVzY3JpcHRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0R2VuZXJhdGluZyh0cnVlKVxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9pYS9kZXNjcmlwdGlvblwiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0aXRyZTogXCJCaWVuIGltbW9iaWxpZXJcIixcbiAgICAgICAgc3VyZmFjZTogZm9ybURhdGEuc3VyZmFjZV9tMixcbiAgICAgICAgdmlsbGU6IFwidmlsbGUgaW5jb25udWVcIixcbiAgICAgICAgcHJpeDogZm9ybURhdGEucHJpeF92ZW50ZSxcbiAgICAgICAgdHlwZTogXCJhcHBhcnRlbWVudCBvdSBtYWlzb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IGZvcm1EYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgICBwaWVjZXNcbiAgICAgIH0pXG4gICAgfSlcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgIHNldEZvcm1EYXRhKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB9KSlcbiAgICBzZXRHZW5lcmF0aW5nKGZhbHNlKVxuICB9XG5cbiAgY29uc3QgdHlwZXNDaGF1ZmZhZ2UgPSBbXG4gICAgXCJHYXpcIixcbiAgICBcIsOJbGVjdHJpcXVlXCIsXG4gICAgXCJGaW91bFwiLFxuICAgIFwiQm9pc1wiLFxuICAgIFwiUG9tcGUgw6AgY2hhbGV1clwiLFxuICAgIFwiU29sYWlyZVwiLFxuICAgIFwiQ2xpbWF0aXNhdGlvbiByw6l2ZXJzaWJsZVwiLFxuICAgIFwiUsOpc2VhdSB1cmJhaW5cIixcbiAgICBcIkF1dHJlXCJcbiAgXVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy01eGwgbXgtYXV0byBiZy13aGl0ZSByb3VuZGVkLXhsIHNoYWRvdyBwLTEwIG10LTEwIHNwYWNlLXktNiBib3JkZXJcIj5cbiAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1vcmFuZ2UtNjAwXCI+8J+TkCDDiXRhcGUgMiA6IENhcmFjdMOpcmlzdGlxdWVzIGTDqXRhaWxsw6llczwvaDE+XG4gICAgICB7LyogLi4uIGNvbnRlbnUgZHUgZm9ybXVsYWlyZSBpbmNoYW5nw6kgc2F1ZiBTZWxlY3QgcmVtcGxhY8OpIHBvdXIgbGUgdHlwZV9jaGF1ZmZhZ2UgKi99XG4gICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fSBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC02IHRleHQtc21cIj5cbiAgICAgICAgey8qIGxlcyBjaGFtcHMgc29udCBpbmNoYW5nw6lzIHNhdWYgY2VsdWktY2kgOiAqL31cbiAgICAgICAgPFNlbGVjdCBsYWJlbD1cIlR5cGUgZGUgY2hhdWZmYWdlXCIgbmFtZT1cInR5cGVfY2hhdWZmYWdlXCIgdmFsdWU9e2Zvcm1EYXRhLnR5cGVfY2hhdWZmYWdlfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSBvcHRpb25zPXt0eXBlc0NoYXVmZmFnZX0gLz5cbiAgICAgICAgey8qIGxlIHJlc3RlIHJlc3RlIGluY2hhbmfDqSAqL31cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZVJvdXRlciIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwic3VwYWJhc2UiLCJMaW5rIiwiRXRhcGUyIiwicm91dGVyIiwiaWQiLCJxdWVyeSIsImZvcm1EYXRhIiwic2V0Rm9ybURhdGEiLCJzdXJmYWNlX20yIiwibmJfcGllY2VzIiwibmJfY2hhbWJyZXMiLCJldGFnZSIsImRwZSIsImRwZV9jb25zb19pbmRpY2UiLCJkcGVfZ2VzX2luZGljZSIsImVuZXJnaWVfZmluYWxlX2t3aCIsImRwZV9jb3V0X21pbiIsImRwZV9jb3V0X21heCIsImRwZV92aWVyZ2UiLCJ0eXBlX2NoYXVmZmFnZSIsIm1vZGVfY2hhdWZmYWdlIiwiYW5uZWVfY29uc3RydWN0aW9uIiwic3VyZmFjZV90ZXJyYWluIiwic3VyZmFjZV9jYXJyZXoiLCJwcml4X3ZlbnRlIiwicHJpeF9uZXRfdmVuZGV1ciIsImhvbm9yYWlyZXMiLCJwb3VyY2VudGFnZV9ob25vcmFpcmVzIiwidGF4ZV9mb25jaWVyZSIsInF1b3RlX3BhcnRfY2hhcmdlcyIsImZvbmRzX3RyYXZhdXgiLCJjaGFyZ2VfdmVuZGV1ciIsImNoYXJnZV9hY3F1ZXJldXIiLCJkZXNjcmlwdGlvbiIsImVycm9yIiwic2V0RXJyb3IiLCJwaWVjZXMiLCJzZXRQaWVjZXMiLCJuZXdQaWVjZSIsInNldE5ld1BpZWNlIiwibm9tIiwic3VyZmFjZSIsImdlbmVyYXRpbmciLCJzZXRHZW5lcmF0aW5nIiwiaGFuZGxlQ2hhbmdlIiwiZSIsIm5hbWUiLCJ2YWx1ZSIsInR5cGUiLCJjaGVja2VkIiwidGFyZ2V0IiwibmV3VmFsdWUiLCJwcmV2IiwidXBkYXRlZCIsImluY2x1ZGVzIiwicHJpeE5ldCIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwidG9GbG9hdCIsInYiLCJ0b0ludCIsInBhcnNlSW50IiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJyYXdVcGRhdGVzIiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZXMiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJmaWx0ZXIiLCJfIiwidW5kZWZpbmVkIiwiZnJvbSIsInVwZGF0ZSIsImVxIiwiY29uc29sZSIsInB1c2giLCJhZGRQaWVjZSIsImhhbmRsZUdlbmVyYXRlRGVzY3JpcHRpb24iLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwidGl0cmUiLCJ2aWxsZSIsInByaXgiLCJkYXRhIiwianNvbiIsInR5cGVzQ2hhdWZmYWdlIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJmb3JtIiwib25TdWJtaXQiLCJTZWxlY3QiLCJsYWJlbCIsIm9uQ2hhbmdlIiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/biens/ajouter/etape2.js\n"));

/***/ })

});